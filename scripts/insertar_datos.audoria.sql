--  Datos de ejemplo
-- Se agregan a la tabla tarjeta_auditoria 100 datos para poder realizar las respectivas consultas, de esta tabla se toma la tarjeta_id(tabla tarjeta), el estado anterior, el estado nuevo y la fecha en la que se hace el respectivo cambio.

INSERT INTO tarjeta_auditoria(tarjeta_id, estado_anterior, estado_nuevo, fecha_cambio) VALUES
(1, 'Activa',    'Bloqueada',    '2024-01-15'),
(1, 'Bloqueada', 'Activa',       '2024-02-10'),
(2, 'Activa',    'Cancelada',    '2024-03-05'),
(3, 'Activa',    'Bloqueada',    '2024-04-20'),
(1, 'Activa',    'Bloqueada',    '2024-05-01'),
(2, 'Cancelada', 'Activa',       '2024-06-12'),
(3, 'Bloqueada', 'Activa',       '2024-07-03'),
(1, 'Bloqueada', 'Cancelada',    '2024-08-17'),
(2, 'Activa',    'Bloqueada',    '2024-09-22'),
(3, 'Activa',    'Cancelada',    '2024-10-30'),
(1, NULL,       'activa',    '2024-01-10'),
  (1, 'activa',   'bloqueada', '2024-02-15'),
  (1, 'bloqueada','activa',    '2024-03-20'),
  (2, NULL,       'activa',    '2024-01-05'),
  (2, 'activa',   'bloqueada', '2024-02-18'),
  (2, 'bloqueada','activa',    '2024-04-22'),
  (3, NULL,       'activa',    '2024-01-12'),
  (3, 'activa',   'bloqueada', '2024-03-16'),
  (3, 'bloqueada','activa',    '2024-05-25'),
  (4, NULL,       'activa',    '2024-01-20'),
  (4, 'activa',   'bloqueada', '2024-02-28'),
  (4, 'bloqueada','activa',    '2024-04-30'),
  (5, NULL,       'activa',    '2024-01-25'),
  (5, 'activa',   'bloqueada', '2024-03-30'),
  (5, 'bloqueada','activa',    '2024-06-05'),
  (6, NULL,       'activa',    '2024-02-05'),
  (6, 'activa',   'bloqueada', '2024-04-10'),
  (6, 'bloqueada','activa',    '2024-06-15'),
  (7, NULL,       'activa',    '2024-02-12'),
  (7, 'activa',   'bloqueada', '2024-03-18'),
  (7, 'bloqueada','activa',    '2024-05-20'),
  (8, NULL,       'activa',    '2024-02-22'),
  (8, 'activa',   'bloqueada', '2024-04-25'),
  (8, 'bloqueada','activa',    '2024-07-01'),
  (9, NULL,       'activa',    '2024-03-02'),
  (9, 'activa',   'bloqueada', '2024-05-06'),
  (9, 'bloqueada','activa',    '2024-08-10'),
  (10, NULL,      'activa',    '2024-03-15'),
  (10, 'activa',  'bloqueada', '2024-04-20'),
  (10, 'bloqueada','activa',   '2024-06-25'),
  (11, NULL,      'activa',    '2024-03-22'),
  (11, 'activa',  'bloqueada', '2024-05-28'),
  (11, 'bloqueada','activa',   '2024-07-30'),
  (12, NULL,      'activa',    '2024-04-01'),
  (12, 'activa',  'bloqueada', '2024-06-05'),
  (12, 'bloqueada','activa',   '2024-08-10'),
  (13, NULL,      'activa',    '2024-04-10'),
  (13, 'activa',  'bloqueada', '2024-07-15'),
  (13, 'bloqueada','activa',   '2024-09-20'),
  (14, NULL,      'activa',    '2024-04-18'),
  (14, 'activa',  'bloqueada', '2024-06-22'),
  (14, 'bloqueada','activa',   '2024-08-25'),
  (15, NULL,      'activa',    '2024-05-01'),
  (15, 'activa',  'bloqueada', '2024-07-05'),
  (15, 'bloqueada','activa',   '2024-09-10'),
  (16, NULL,      'activa',    '2024-05-12'),
  (16, 'activa',  'bloqueada', '2024-06-20'),
  (16, 'bloqueada','activa',   '2024-08-22'),
  (17, NULL,      'activa',    '2024-05-20'),
  (17, 'activa',  'bloqueada', '2024-07-25'),
  (17, 'bloqueada','activa',   '2024-10-01'),
  (18, NULL,      'activa',    '2024-06-01'),
  (18, 'activa',  'bloqueada', '2024-08-10'),
  (18, 'bloqueada','activa',   '2024-10-15'),
  (19, NULL,      'activa',    '2024-06-10'),
  (19, 'activa',  'bloqueada', '2024-09-15'),
  (19, 'bloqueada','activa',   '2024-11-20'),
  (20, NULL,      'activa',    '2024-06-20'),
  (20, 'activa',  'bloqueada', '2024-08-30'),
  (20, 'bloqueada','activa',   '2024-10-30'),
  (21, NULL,      'activa',    '2024-07-05'),
  (21, 'activa',  'bloqueada', '2024-09-10'),
  (21, 'bloqueada','activa',   '2024-11-12'),
  (22, NULL,      'activa',    '2024-07-15'),
  (22, 'activa',  'bloqueada', '2024-10-20'),
  (22, 'bloqueada','activa',   '2025-01-05'),
  (23, NULL,      'activa',    '2024-07-25'),
  (23, 'activa',  'bloqueada', '2024-09-30'),
  (23, 'bloqueada','activa',   '2025-02-10'),
  (24, NULL,      'activa',    '2024-08-01'),
  (24, 'activa',  'bloqueada', '2024-11-05'),
  (24, 'bloqueada','activa',   '2025-02-15'),
  (25, NULL,      'activa',    '2024-08-10'),
  (25, 'activa',  'bloqueada', '2024-10-15'),
  (25, 'bloqueada','activa',   '2025-03-01'),
  (26, NULL,      'activa',    '2024-08-20'),
  (26, 'activa',  'bloqueada', '2024-12-01'),
  (26, 'bloqueada','activa',   '2025-03-10'),
  (27, NULL,      'activa',    '2024-09-01'),
  (27, 'activa',  'bloqueada', '2025-01-05'),
  (27, 'bloqueada','activa',   '2025-03-15'),
  (28, NULL,      'activa',    '2024-09-10'),
  (28, 'activa',  'bloqueada', '2025-02-10'),
  (28, 'bloqueada','activa',   '2025-04-01'),
  (29, NULL,      'activa',    '2024-09-20'),
  (29, 'activa',  'bloqueada', '2025-02-20'),
  (29, 'bloqueada','activa',   '2025-04-15'),
  (30, NULL,      'activa',    '2024-10-01'),
  (30, 'activa',  'bloqueada', '2025-03-15'),
  (30, 'bloqueada','activa',   '2025-04-25'),
  (31, NULL,      'activa',    '2024-10-10'),
  (31, 'activa',  'bloqueada', '2025-03-25'),
  (31, 'bloqueada','activa',   '2025-05-05'),
  (32, NULL,      'activa',    '2024-10-20'),
  (32, 'activa',  'bloqueada', '2025-04-01'),
  (32, 'bloqueada','activa',   '2025-05-15'),
  (33, NULL,      'activa',    '2024-11-01'),
  (33, 'activa',  'bloqueada', '2025-04-10'),
  (33, 'bloqueada','activa',   '2025-05-20'),
  (34, NULL,      'activa',    '2024-11-10'),
  (34, 'activa',  'bloqueada', '2025-04-20'),
  (34, 'bloqueada','activa',   '2025-05-25'),
  (35, NULL,      'activa',    '2024-11-20'),
  (35, 'activa',  'bloqueada', '2025-05-01'),
  (35, 'bloqueada','activa',   '2025-05-26');
